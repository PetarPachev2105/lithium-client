!function(){"use strict";var e={9382:function(e,n,t){var r=t(4165),a=t(5861),o={API_URL:"https://api.lithiumawesome.com/api",WEBSOCKET_URL:"ws://ec2-3-73-50-42.eu-central-1.compute.amazonaws.com"},u=t(2906).default,c=null,s=null,i=null,p=null,f=new u({concurrency:1}),d=[],l=[];function m(){return h.apply(this,arguments)}function h(){return h=(0,a.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(p=new WebSocket("".concat(o.WEBSOCKET_URL,"?clientId=").concat(c,"&lithiumHoodId=").concat(i))).onopen=function(){},p.onmessage=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=JSON.parse(n.data)).sourceId!==c||t.type.includes("automated")){e.next=3;break}return e.abrupt("return");case 3:if("received-request"!==t.type){e.next=8;break}return e.next=6,f.add((0,a.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d.push({name:"received-request",payload:{message:t.payload}});case 1:case"end":return e.stop()}}),e)}))));case 6:e.next=9;break;case 8:"accepted-request"===t.type?d.push({name:"accepted-request",payload:{message:t.payload}}):"removed-user-from-the-hood"===t.type?d.push({name:"removed-user-from-the-hood",payload:{message:t.payload}}):"automated-new-lithium-room"===t.type?d.push({name:"automated-new-lithium-room",payload:{message:t.payload}}):"received-message"===t.type&&d.push({name:"received-message",payload:{message:t.payload}});case 9:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),p.onclose=function(){m()},p.onerror=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(n);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();case 5:case"end":return e.stop()}}),e)}))),h.apply(this,arguments)}function v(){return y.apply(this,arguments)}function y(){return y=(0,a.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(p=new WebSocket("".concat(o.WEBSOCKET_URL,"?clientId=").concat(c,"&lithiumRoomId=").concat(s))).onopen=function(){},p.onmessage=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=JSON.parse(n.data)).sourceId!==c||t.type.includes("automated")){e.next=3;break}return e.abrupt("return");case 3:if("message-received"!==t.type&&"automated-message"!==t.type){e.next=6;break}return e.next=6,f.add((0,a.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l.push({name:"message-received",payload:{message:t.payload}});case 1:case"end":return e.stop()}}),e)}))));case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),p.onclose=function(){v()},p.onerror=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(n);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();case 5:case"end":return e.stop()}}),e)}))),y.apply(this,arguments)}function w(){return x.apply(this,arguments)}function x(){return(x=(0,a.Z)((0,r.Z)().mark((function e(){var n,t,a,o,u;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=(n=i?d:l).length,a=[],o=0;o<t;o++)(u=n.shift())&&a.push(u);a.length>0&&self.postMessage({name:"websocket-updates",payload:{updates:a}}),setTimeout((function(){w()}),5e3);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}self.onmessage=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n){var t,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.data.name,a=n.data.payload,"init"!==t){e.next=15;break}if(c=a.clientId,!a.lithiumHoodId){e.next=10;break}return i=a.lithiumHoodId,e.next=8,m();case 8:e.next=14;break;case 10:if(!a.lithiumRoomId){e.next=14;break}return s=a.lithiumRoomId,e.next=14,v();case 14:setTimeout((function(){w()}),1e4);case 15:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()}},n={};function t(r){var a=n[r];if(void 0!==a)return a.exports;var o=n[r]={exports:{}};return e[r](o,o.exports,t),o.exports}t.m=e,t.x=function(){var e=t.O(void 0,[82],(function(){return t(9382)}));return e=t.O(e)},function(){var e=[];t.O=function(n,r,a,o){if(!r){var u=1/0;for(p=0;p<e.length;p++){r=e[p][0],a=e[p][1],o=e[p][2];for(var c=!0,s=0;s<r.length;s++)(!1&o||u>=o)&&Object.keys(t.O).every((function(e){return t.O[e](r[s])}))?r.splice(s--,1):(c=!1,o<u&&(u=o));if(c){e.splice(p--,1);var i=a();void 0!==i&&(n=i)}}return n}o=o||0;for(var p=e.length;p>0&&e[p-1][2]>o;p--)e[p]=e[p-1];e[p]=[r,a,o]}}(),t.d=function(e,n){for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},t.f={},t.e=function(e){return Promise.all(Object.keys(t.f).reduce((function(n,r){return t.f[r](e,n),n}),[]))},t.u=function(e){return"static/js/"+e+".6bfe4008.chunk.js"},t.miniCssF=function(e){},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="/",function(){var e={382:1,619:1};t.f.i=function(n,r){e[n]||importScripts(t.p+t.u(n))};var n=self.webpackChunklithium_client=self.webpackChunklithium_client||[],r=n.push.bind(n);n.push=function(n){var a=n[0],o=n[1],u=n[2];for(var c in o)t.o(o,c)&&(t.m[c]=o[c]);for(u&&u(t);a.length;)e[a.pop()]=1;r(n)}}(),function(){var e=t.x;t.x=function(){return t.e(82).then(e)}}();t.x()}();
//# sourceMappingURL=382.02d6c90b.chunk.js.map